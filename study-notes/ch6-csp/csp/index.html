<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Study notes on Artificial Intelligence book by Russell and Norvig."><meta name=author content=RoundofThree><link href=https://roundofthree.github.io/AIMA-notes/en/study-notes/ch6-csp/csp/ rel=canonical><link rel=icon href=https://roundofthree.github.io/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-7.1.3"><title>Constraint Satisfaction problems - AIMA notes</title><link rel=stylesheet href=../../../assets/stylesheets/main.e35208c4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ef6f36e2.min.css><meta name=theme-color content=#02a6f2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,400,400i,700%7CSource+Code+Pro&display=fallback"><style>:root{--md-text-font-family:"Noto Sans";--md-code-font-family:"Source Code Pro"}</style></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=light-blue data-md-color-accent=red> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#constraint-propagation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="AIMA notes" class="md-header__button md-logo" aria-label="AIMA notes" data-md-component=logo> <img src=https://roundofthree.github.io/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AIMA notes </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Constraint Satisfaction problems </span> </div> </div> </div> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=/ hreflang class=md-select__link> en - English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/RoundofThree/AIMA-notes/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </div> <div class=md-source__repository> RoundofThree/AIMA-notes </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Start </a> </li> <li class=md-tabs__item> <a href=../../ch2-intelligent-agents/intelligent-agents/ class="md-tabs__link md-tabs__link--active"> Study Notes </a> </li> <li class=md-tabs__item> <a href=../../../exercises/tutorial-1/tutorial-1/ class=md-tabs__link> Exercises </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="AIMA notes" class="md-nav__button md-logo" aria-label="AIMA notes" data-md-component=logo> <img src=https://roundofthree.github.io/favicon.png alt=logo> </a> AIMA notes </label> <div class=md-nav__source> <a href=https://github.com/RoundofThree/AIMA-notes/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </div> <div class=md-source__repository> RoundofThree/AIMA-notes </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Start <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Start data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../discussion/ class=md-nav__link> Discussion </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Study Notes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Study Notes" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Study Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ch2-intelligent-agents/intelligent-agents/ class=md-nav__link> Intelligent agents </a> </li> <li class=md-nav__item> <a href=../../ch3-classical-search/classical-search/ class=md-nav__link> Classical Search </a> </li> <li class=md-nav__item> <a href=../../ch4-local-search/local-search/ class=md-nav__link> Non-Classical Search </a> </li> <li class=md-nav__item> <a href=../../ch5-adversarial-search/adversarial-search/ class=md-nav__link> Adversarial search </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Constraint Satisfaction problems <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Constraint Satisfaction problems </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#constraint-propagation class=md-nav__link> Constraint propagation </a> <nav class=md-nav aria-label="Constraint propagation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#node-consistency class=md-nav__link> Node consistency </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#arc-consistency class=md-nav__link> Arc consistency </a> </li> <li class=md-nav__item> <a href=#path-consistency class=md-nav__link> Path consistency </a> </li> <li class=md-nav__item> <a href=#k-consistency class=md-nav__link> K-consistency </a> </li> <li class=md-nav__item> <a href=#global-constraints class=md-nav__link> Global constraints </a> </li> <li class=md-nav__item> <a href=#backtracking-search class=md-nav__link> Backtracking search </a> <nav class=md-nav aria-label="Backtracking search"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#variable-ordering class=md-nav__link> Variable ordering </a> </li> <li class=md-nav__item> <a href=#value-ordering class=md-nav__link> Value ordering </a> </li> <li class=md-nav__item> <a href=#inference-during-search class=md-nav__link> Inference during search </a> <nav class=md-nav aria-label="Inference during search"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#forward-checking class=md-nav__link> Forward checking </a> </li> <li class=md-nav__item> <a href=#maintaining-arc-consistency-mac class=md-nav__link> Maintaining Arc Consistency (MAC) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#backjumping class=md-nav__link> Backjumping </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-search class=md-nav__link> Local search </a> </li> <li class=md-nav__item> <a href=#csp-complexity-and-problem-decomposition class=md-nav__link> CSP complexity and problem decomposition </a> <nav class=md-nav aria-label="CSP complexity and problem decomposition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cutset-conditioning class=md-nav__link> Cutset conditioning </a> </li> <li class=md-nav__item> <a href=#tree-decomposition class=md-nav__link> Tree decomposition </a> </li> <li class=md-nav__item> <a href=#value-symmetry class=md-nav__link> Value symmetry </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Exercises <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Exercises data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Exercises </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../exercises/tutorial-1/tutorial-1/ class=md-nav__link> Tutorial 1 ─ Classical search and adversarial search </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-2/tutorial-2/ class=md-nav__link> Tutorial 2 ─ Constraint Satisfaction Problems </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-3/tutorial-3/ class=md-nav__link> Tutorial 3 ─ Classical Planning </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-4/tutorial-4/ class=md-nav__link> Tutorial 4 ─ Relaxed Planning Graph Planning </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-5/tutorial-5/ class=md-nav__link> Tutorial 5 ─ AI under Uncertainty (MDP) </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-6/tutorial-6/ class=md-nav__link> Tutorial 6 ─ Unsupervised learning </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-7/tutorial-7/ class=md-nav__link> Tutorial 7 ─ Supervised learning </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-8/tutorial-8/ class=md-nav__link> Tutorial 8 ─ Reinforcement learning </a> </li> <li class=md-nav__item> <a href=../../../exercises/tutorial-9/tutorial-9/ class=md-nav__link> Revision questions </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#constraint-propagation class=md-nav__link> Constraint propagation </a> <nav class=md-nav aria-label="Constraint propagation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#node-consistency class=md-nav__link> Node consistency </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#arc-consistency class=md-nav__link> Arc consistency </a> </li> <li class=md-nav__item> <a href=#path-consistency class=md-nav__link> Path consistency </a> </li> <li class=md-nav__item> <a href=#k-consistency class=md-nav__link> K-consistency </a> </li> <li class=md-nav__item> <a href=#global-constraints class=md-nav__link> Global constraints </a> </li> <li class=md-nav__item> <a href=#backtracking-search class=md-nav__link> Backtracking search </a> <nav class=md-nav aria-label="Backtracking search"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#variable-ordering class=md-nav__link> Variable ordering </a> </li> <li class=md-nav__item> <a href=#value-ordering class=md-nav__link> Value ordering </a> </li> <li class=md-nav__item> <a href=#inference-during-search class=md-nav__link> Inference during search </a> <nav class=md-nav aria-label="Inference during search"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#forward-checking class=md-nav__link> Forward checking </a> </li> <li class=md-nav__item> <a href=#maintaining-arc-consistency-mac class=md-nav__link> Maintaining Arc Consistency (MAC) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#backjumping class=md-nav__link> Backjumping </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local-search class=md-nav__link> Local search </a> </li> <li class=md-nav__item> <a href=#csp-complexity-and-problem-decomposition class=md-nav__link> CSP complexity and problem decomposition </a> <nav class=md-nav aria-label="CSP complexity and problem decomposition"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cutset-conditioning class=md-nav__link> Cutset conditioning </a> </li> <li class=md-nav__item> <a href=#tree-decomposition class=md-nav__link> Tree decomposition </a> </li> <li class=md-nav__item> <a href=#value-symmetry class=md-nav__link> Value symmetry </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/RoundofThree/AIMA-notes/blob/master/docs/en/docs/study-notes/ch6-csp/csp.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Constraint Satisfaction problems</h1> <p># Constraint Satisfaction problems</p> <p>Unlike searching algorithms, CSP search algorithms use a <strong>factored representation</strong> over <strong>atomic representation</strong>. It enables to use <em>general-purpose domain independent heuristics</em> rather than <em>problem-specific</em> heuristics. </p> <p>CSP definition: - Set of variables <strong>X</strong> - Set of domains <strong>D</strong>, each domain is a set of allowable values for a specific variable - Set of constraints <strong>C</strong>, each constraint is a tuple <code>tuple(scope, relation)</code> </p> <p><strong>Scope of constraint</strong>: tuple of variables that participate in the constraint. <br> <strong>Relation of constraint</strong>: list of all tuples of values that satisfy the constraint. Can also be a function, such as the precedence constraint <code>T1 + d1 &lt;= T2</code>, disjunctive constraint <code>C1 or C2</code>... <br> <strong>Consistent assignment</strong>: no constraint violations. <br> <strong>Complete assignment</strong>: all variables are assigned. <br></p> <p>Types of variables: - With discrete finite domains - With discrete infinite domains - Constraints described with a constraint language - There are general algorithms to solve CSP with <strong>linear constraints</strong> on integer variables - No general algorithms to solve <strong>nonlinear constraints</strong> on integer variables - With continuous domains: <strong>linear programming</strong>, <strong>quadratic programming</strong>, ...</p> <p>Types of constraints: - <strong>n-ary constraint</strong>: n is the number of variables of the <code>scope</code> tuple. - <strong>Global constraint</strong>: n is an arbitrary number of variables, eg. <code>Alldiff</code>. - <strong>Preference constraint</strong>: unlike absolute constraints, CSP with preferences can be solved with optimization search methods as a <strong>constraint optimization problem</strong>, eg. linear programming. </p> <p><strong>Constraint graph</strong>: graph that connects variables as nodes with constraints as edges. Only for CSPs with only binary constraints. <br> <strong>Constraint hypergraph</strong>: variables are nodes (circles) and constraints are hypernodes (squares). <br></p> <p><strong>Theorem</strong>: Every finite domain constraint can be reduced to a set of binary constraints. This can be done with <strong>dual graph transformation</strong>: <div class=highlight><pre><span></span><code>Original CSP:
Variables: x, y, z
Domains: [1,2,3], [1,2,3], [1,2,3]
Constraints: 
1. x + y = z   =&gt; &lt;x,y,z&gt;, {(1,2,3), (2,1,3), (1,1,2)}
2. x &lt; y       =&gt; &lt;x,y&gt;, {(1,2), (1,3), (2,3)}
---
Dual graph:
Variables: 
1. c1 represents constraint 1
2. c2 
Domains: 
1. dom(c1) = {(1,2,3), (2,1,3), (1,1,2)}
2. dom(c2) = {(1,2), (1,3), (2,3)}
Constraints (one for each pair of original constraints that share variables):
1. &lt;c1, c2&gt;, c1.x = c2.x and c1.y = c2.y  
</code></pre></div></p> <p><em>Note</em>: KCL INT module defines <em>n-ary CSP</em> as that the CSP has n different domains. </p> <h2 id=constraint-propagation>Constraint propagation<a class=headerlink href=#constraint-propagation title="Permanent link">&para;</a></h2> <p>It is a type of <strong>inference</strong>. Inference can be used as a preprocessing step for search, intertwined with search or maybe solve the CSP without search. The idea is to enforce <strong>local consistency</strong>. Depending on the number of variables involved, there are different types:</p> <h3 id=node-consistency>Node consistency<a class=headerlink href=#node-consistency title="Permanent link">&para;</a></h3> <p>Ensure all values in the variable's domain satisfy the unary constraints. </p> <p>Algorithm: remove the unary constraints and modify the domains accordingly. </p> <h2 id=arc-consistency>Arc consistency<a class=headerlink href=#arc-consistency title="Permanent link">&para;</a></h2> <p>Ensure any variable <code>Xi</code> is arc-consistent with every other variable <code>Xj</code>. Here we assume a CSP with only binary constraints. </p> <p><code>Xi</code> is arc-consistent with <code>Xj</code> if for every value in <code>Di</code> there is some value in <code>Dj</code> that satisfy the binary constraint on arc <code>(Xi, Xj)</code>. </p> <p>Algorithm: AC-3.</p> <p>Procedure: - Queue (a set really) to store arcs (constraints) - Pop an arc <code>(Xi, Xj)</code> from the queue - For each value in domain <code>Di = dom(Xi)</code>: - If there exists a value in <code>Dj = dom(Xj)</code> that satisfies the constraint <code>&lt;Xi, Xj&gt;</code>, then continue - Else remove the value from <code>Di</code> and enqueue all arcs <code>{(Xk, Xi) | k in 1..n and k != i}</code></p> <p>Complexity: <code>O(cd^3)</code></p> <p><em>Note</em>: for hyperarc consistency, <code>Xi</code> is generalized arc consistent with respect to n-ary constraint if for every value in the domain <code>Di</code> there exists a tuple of values that is a member of the constraint. </p> <h2 id=path-consistency>Path consistency<a class=headerlink href=#path-consistency title="Permanent link">&para;</a></h2> <p>Ensure any set of 2 variables <code>{Xi, Xj}</code> is path-consistent with every other variable. </p> <p><code>{Xi, Xj}</code> is path-consistent with <code>Xm</code> if for every assignment <code>{Xi=a, Xj=b}</code> there exists an assignment to <code>Xm</code> that satisfies the constraints <code>&lt;Xi, Xm&gt;</code> and <code>&lt;Xj, Xm&gt;</code>. </p> <p>Algorithm: PC-2</p> <p>Procedure: similar to AC-3. </p> <p>Complexity: <code>O()</code></p> <h2 id=k-consistency>K-consistency<a class=headerlink href=#k-consistency title="Permanent link">&para;</a></h2> <p>A CSP is k-consistent if for any set of consistent k-1 variables, there exists a consistent value for any kth variable. </p> <p>A <strong>strongly k-consistent</strong> CSP is (1..k) consistent. If <code>k = n</code>, and the CSP is strongly k-consistent, we are guaranteed to find the solution in <code>O(d*n^2)</code>. But enforcing strong consistency for higher order requires time and space exponencial to <code>k</code>, which makes it unfeasible for higher <code>k</code>. </p> <h2 id=global-constraints>Global constraints<a class=headerlink href=#global-constraints title="Permanent link">&para;</a></h2> <p>Alldiff algorithm: 1. Find variable with singleton domain, if not found then terminate 2. Remove the value in singleton domain from all other domains 3. If there is an empty domain, return failure 4. Repeat </p> <p>Atmost (resource constraint): 1. Check the sum of minimum value of each domain <code>Dx</code>. 2. If this sum &gt; limit, return failure 3. Else enforce consistency by deleting values <code>v</code> from domains such that <code>v + min(D1) + min(D2) + ... (except the domain of v) + min(Dn) &gt; limit</code>. </p> <p>Atmost (continuous bounded resource constraint): For every variable X, and for both lower and upper bound, there exists a value in <code>dom(Y)</code> for every Y. </p> <h2 id=backtracking-search>Backtracking search<a class=headerlink href=#backtracking-search title="Permanent link">&para;</a></h2> <p>Backtracking search deals with partial assignments until a complete assignment is found. It is based on depth first search. </p> <p><strong>Commutativity</strong> is an important property of CSPs such that the order of application of a set of actions (in this case assignments) has no effect on the outcome. For each layer of CSP, the solver can focus on only one variable. </p> <p>Performance can be tweaked in the following areas: 1. Variable ordering 2. Value ordering 3. Inference at each step of the search 4. Backjumping </p> <h3 id=variable-ordering>Variable ordering<a class=headerlink href=#variable-ordering title="Permanent link">&para;</a></h3> <p><strong>Minimum remaining values heuristic (MRV)</strong> (or most constrained): variable with fewest legal values in domain.</p> <p>To break a tie, </p> <p><strong>Degree heuristic</strong>: variable involved in the largest number of constraints on other unassigned variables (unassigned!). </p> <h3 id=value-ordering>Value ordering<a class=headerlink href=#value-ordering title="Permanent link">&para;</a></h3> <p><strong>Least-constraining-value heuristic (LCV)</strong>: value that rules out the fewest choices for other variables. </p> <h3 id=inference-during-search>Inference during search<a class=headerlink href=#inference-during-search title="Permanent link">&para;</a></h3> <p>AC-3 and other local consistency algorithms are applied before the search starts. But during search, </p> <h4 id=forward-checking>Forward checking<a class=headerlink href=#forward-checking title="Permanent link">&para;</a></h4> <p>When <code>X</code> gets assigned, for each unassigned variable, remove from its domain the values that are not arc-consistent with <code>X</code>. </p> <p>Forward checking works better with MRV heuristic. </p> <p><em>Note</em>: when the domain of <code>Y</code> is changed, the arc consistency of all other variables with respect to <code>Y</code> is NOT revised. </p> <h4 id=maintaining-arc-consistency-mac>Maintaining Arc Consistency (MAC)<a class=headerlink href=#maintaining-arc-consistency-mac title="Permanent link">&para;</a></h4> <p>Run AC-3 but with initial queue with only the arcs <code>(Xj, Xi)</code> where <code>Xi</code> is just assigned and <code>Xj</code> is any unassigned variable. </p> <h3 id=backjumping>Backjumping<a class=headerlink href=#backjumping title="Permanent link">&para;</a></h3> <p><strong>Conflict set</strong>: set of assignments that is inconsistent. These assignments are responsible for emptying the domain of a variable. For each variable, keep a set. Add assignment <code>X=x</code> to conflict set of <code>Y</code> whenever this assignments causes a reduction of the domain of <code>Y</code>. If the domain of <code>Y</code> turns empty, add the conflict set of <code>Y</code> to <code>X</code>.</p> <p><strong>Conflict directed backjumping</strong>: use the standard conflict sets (easily computed with forward checking). Backjump to the most recent assignment in the current conflict set. Update the conflict set of the current variable by adding the previous conflict set. </p> <div class=highlight><pre><span></span><code>conf(Xi) &lt;-- conf(Xi) union conf(Xj) - {Xi}
</code></pre></div> <p><strong>Constraint learning and no-good cache</strong>: learn the minimum set of variables in the conflict set that causes the problem. A no-good cache is an important technique in modern CSP solvers. </p> <h2 id=local-search>Local search<a class=headerlink href=#local-search title="Permanent link">&para;</a></h2> <p>Local search starts with a complete assignment. It is feasible for online agents. </p> <p><code>MIN-CONFLICTS</code> algorithm: select a random variable and assign a value that minimizes the number of violated constraints. </p> <p>Plateaux can be avoided with sideways moves and <strong>tabu search</strong>, which stores a small list of recently visited states and forbids the algorithm to return to those states. </p> <p><strong>Constraint weighting</strong>: each constraint has weight 1. After each move, add 1 to the still conflicted constraints. This adds topology to the plateaux and concentrates the search to difficult constraints. </p> <h2 id=csp-complexity-and-problem-decomposition>CSP complexity and problem decomposition<a class=headerlink href=#csp-complexity-and-problem-decomposition title="Permanent link">&para;</a></h2> <p><strong>Connected components</strong> of the constraint graph can be solved as independent subproblems. The complexity converts <code>O(d^n)</code> to <code>O(n/c * d^c)</code>. </p> <p><strong>Tree-structured</strong> problems can be solved in linear time. By definition, any two variables are connected by only one path. The algorithm applies topological sorting and makes the graph <strong>directed arc-consistent</strong> in <code>O(nd^2)</code>. This means we don't have to backtrack. </p> <p>There are two approaches to convert a CSP into a tree-structured CSP.</p> <h3 id=cutset-conditioning>Cutset conditioning<a class=headerlink href=#cutset-conditioning title="Permanent link">&para;</a></h3> <ol> <li>Find the smallest cycle cutset S. The constraint graph minus the cycle cutset is a tree. </li> <li>For each assignment to S, revise the domains for other variables and solve the tree CSP. </li> </ol> <p>Finding the smallest cycle cutset is NP-hard. The time complexity of the decomposed problem is <code>O(d^c * (n-c) * d^2)</code></p> <h3 id=tree-decomposition>Tree decomposition<a class=headerlink href=#tree-decomposition title="Permanent link">&para;</a></h3> <p>Decompose into independent subproblems. Each subproblem is a node of a megavariable. <strong>Tree width</strong> is one less than the size of the largest subproblem. After decomposition, the time complexity is <code>O(n * d ^{w+1})</code>, where <code>w</code> is the tree width. Finding the decomposition of a minimal tree width is NP-hard. </p> <h3 id=value-symmetry>Value symmetry<a class=headerlink href=#value-symmetry title="Permanent link">&para;</a></h3> <p>Another performance tweak is to break value symmetry by adding a symmetry-breaking constraint. For example, this could be an arbitrary ordering constraint <code>A &lt; B &lt; C</code> such that permutations are not possible. </p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../ch5-adversarial-search/adversarial-search/ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Adversarial search </div> </div> </a> <a href=../../../exercises/tutorial-1/tutorial-1/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Tutorial 1 ─ Classical search and adversarial search </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; RoundofThree </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "search.suggest", "search.highlight", "search.share"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.4ea5477f.min.js></script> <script src=../../../static/js/extra.js></script> <script src=https://cdnjs.loli.net/ajax/libs/pangu/3.3.0/pangu.min.js></script> <script src="https://cdnjs.loli.net/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>